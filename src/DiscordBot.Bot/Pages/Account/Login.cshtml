@page
@model LoginModel
@{
    ViewData["Title"] = "Sign In";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - Discord Bot Admin</title>
    <link rel="stylesheet" href="~/css/app.css" asp-append-version="true" />
</head>
<body class="min-h-screen bg-bg-primary flex items-center justify-center px-4 py-8 font-sans">

    <div class="w-full max-w-md">
        <!-- Logo and Header -->
        <div class="text-center mb-8">
            <!-- Bot Logo -->
            <div class="inline-flex items-center justify-center w-16 h-16 bg-accent-orange rounded-xl mb-4">
                <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M20.317 4.492c-1.53-.69-3.17-1.2-4.885-1.49a.075.075 0 0 0-.079.036c-.21.369-.444.85-.608 1.23a18.566 18.566 0 0 0-5.487 0 12.36 12.36 0 0 0-.617-1.23A.077.077 0 0 0 8.562 3c-1.714.29-3.354.8-4.885 1.491a.07.07 0 0 0-.032.027C.533 9.093-.32 13.555.099 17.961a.08.08 0 0 0 .031.055 20.03 20.03 0 0 0 5.993 2.98.078.078 0 0 0 .084-.026 13.83 13.83 0 0 0 1.226-1.963.074.074 0 0 0-.041-.104 13.201 13.201 0 0 1-1.872-.878.075.075 0 0 1-.008-.125c.126-.093.252-.19.372-.287a.075.075 0 0 1 .078-.01c3.927 1.764 8.18 1.764 12.061 0a.075.075 0 0 1 .079.009c.12.098.245.195.372.288a.075.075 0 0 1-.006.125c-.598.344-1.22.635-1.873.877a.075.075 0 0 0-.041.105c.36.687.772 1.341 1.225 1.962a.077.077 0 0 0 .084.028 19.963 19.963 0 0 0 6.002-2.981.076.076 0 0 0 .032-.054c.5-5.094-.838-9.52-3.549-13.442a.06.06 0 0 0-.031-.028zM8.02 15.278c-1.182 0-2.157-1.069-2.157-2.38 0-1.312.956-2.38 2.157-2.38 1.21 0 2.176 1.077 2.157 2.38 0 1.312-.956 2.38-2.157 2.38zm7.975 0c-1.183 0-2.157-1.069-2.157-2.38 0-1.312.955-2.38 2.157-2.38 1.21 0 2.176 1.077 2.157 2.38 0 1.312-.946 2.38-2.157 2.38z" />
                </svg>
            </div>
            <h1 class="text-2xl font-bold text-text-primary">Discord Bot Admin</h1>
            <p class="text-text-secondary mt-2">Sign in to your account</p>
        </div>

        <!-- Login Card -->
        <div class="bg-bg-secondary border border-border-primary rounded-lg p-6 shadow-lg">

            <!-- Error Alert -->
            @if (!string.IsNullOrEmpty(Model.ErrorMessage))
            {
                <div class="mb-6 p-4 bg-error-bg border border-error-border rounded-lg flex items-start gap-3" role="alert">
                    <svg class="w-5 h-5 text-error flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                    </svg>
                    <div>
                        <p class="text-sm font-semibold text-error">Login failed</p>
                        <p class="text-sm text-error mt-1">@Model.ErrorMessage</p>
                    </div>
                </div>
            }

            <!-- Validation Summary -->
            <div asp-validation-summary="ModelOnly" class="mb-6 p-4 bg-error-bg border border-error-border rounded-lg" role="alert"></div>

            <!-- Login Form -->
            <form method="post" class="space-y-5">
                <input type="hidden" asp-for="ReturnUrl" value="@Model.ReturnUrl" />

                <!-- Email Field -->
                <div>
                    <label asp-for="Input.Email" class="block text-sm font-semibold text-text-primary mb-2">
                        Email address
                    </label>
                    <input
                        asp-for="Input.Email"
                        type="email"
                        autocomplete="email"
                        placeholder="you@example.com"
                        class="w-full px-3.5 py-2.5 text-sm text-text-primary bg-bg-primary border border-border-primary rounded-md placeholder-text-tertiary transition-colors hover:border-accent-blue focus:border-accent-blue focus:outline-none focus:ring-3 focus:ring-accent-blue/15"
                    />
                    <span asp-validation-for="Input.Email" class="mt-1.5 text-xs text-error block"></span>
                </div>

                <!-- Password Field -->
                <div>
                    <div class="flex items-center justify-between mb-2">
                        <label asp-for="Input.Password" class="block text-sm font-semibold text-text-primary">
                            Password
                        </label>
                        <a href="#" class="text-xs text-accent-blue hover:text-accent-blue-hover transition-colors" tabindex="-1" aria-disabled="true" title="Coming soon">
                            Forgot password?
                        </a>
                    </div>
                    <input
                        asp-for="Input.Password"
                        type="password"
                        autocomplete="current-password"
                        placeholder="Enter your password"
                        class="w-full px-3.5 py-2.5 text-sm text-text-primary bg-bg-primary border border-border-primary rounded-md placeholder-text-tertiary transition-colors hover:border-accent-blue focus:border-accent-blue focus:outline-none focus:ring-3 focus:ring-accent-blue/15"
                    />
                    <span asp-validation-for="Input.Password" class="mt-1.5 text-xs text-error block"></span>
                </div>

                <!-- Remember Me Checkbox -->
                <div class="flex items-center gap-2.5">
                    <input
                        asp-for="Input.RememberMe"
                        type="checkbox"
                        class="w-4 h-4 rounded border-border-primary bg-bg-primary cursor-pointer accent-accent-orange"
                    />
                    <label asp-for="Input.RememberMe" class="text-sm text-text-secondary cursor-pointer select-none">
                        Remember me
                    </label>
                </div>

                <!-- Submit Button -->
                <button
                    type="submit"
                    class="w-full py-2.5 px-4 text-sm font-semibold text-white bg-accent-orange border border-accent-orange rounded-md transition-colors hover:bg-accent-orange-hover hover:border-accent-orange-hover active:bg-accent-orange-active focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-blue focus-visible:ring-offset-2 focus-visible:ring-offset-bg-secondary"
                >
                    Sign In
                </button>
            </form>

            <!-- Divider -->
            <div class="relative my-6">
                <div class="absolute inset-0 flex items-center">
                    <div class="w-full border-t border-border-primary"></div>
                </div>
                <div class="relative flex justify-center text-xs">
                    <span class="px-3 bg-bg-secondary text-text-tertiary">Or continue with</span>
                </div>
            </div>

            <!-- Discord OAuth Button -->
            <form method="post" asp-page-handler="DiscordLogin">
                <input type="hidden" name="returnUrl" value="@Model.ReturnUrl" />
                <button
                    type="submit"
                    class="w-full py-2.5 px-4 text-sm font-semibold text-white bg-discord border border-discord rounded-md transition-colors hover:bg-discord-hover hover:border-discord-hover focus:outline-none focus-visible:ring-2 focus-visible:ring-discord focus-visible:ring-offset-2 focus-visible:ring-offset-bg-secondary flex items-center justify-center gap-2.5"
                >
                    <!-- Discord Logo SVG -->
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z" />
                    </svg>
                    Login with Discord
                </button>
            </form>
        </div>

        <!-- Footer Note -->
        <p class="text-center text-xs text-text-tertiary mt-6">
            By signing in, you agree to our
            <a href="#" class="text-accent-blue hover:text-accent-blue-hover transition-colors">Terms of Service</a>
            and
            <a href="#" class="text-accent-blue hover:text-accent-blue-hover transition-colors">Privacy Policy</a>.
        </p>
    </div>

    @section Scripts {
        <partial name="_ValidationScriptsPartial" />
    }

</body>
</html>
