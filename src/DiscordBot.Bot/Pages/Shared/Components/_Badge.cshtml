@model DiscordBot.Bot.ViewModels.Components.BadgeViewModel
@{
    var sizeClasses = Model.Size switch
    {
        DiscordBot.Bot.ViewModels.Components.BadgeSize.Small => "px-2 py-0.5 text-xs",
        DiscordBot.Bot.ViewModels.Components.BadgeSize.Large => "px-4 py-1.5 text-sm",
        _ => "px-3 py-1 text-xs"
    };

    var iconSize = Model.Size switch
    {
        DiscordBot.Bot.ViewModels.Components.BadgeSize.Small => "w-2.5 h-2.5",
        DiscordBot.Bot.ViewModels.Components.BadgeSize.Large => "w-4 h-4",
        _ => "w-3 h-3"
    };

    string variantClasses;
    if (Model.Style == DiscordBot.Bot.ViewModels.Components.BadgeStyle.Outline)
    {
        variantClasses = Model.Variant switch
        {
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Orange => "border border-accent-orange text-accent-orange bg-transparent",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Blue => "border border-accent-blue text-accent-blue bg-transparent",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Success => "border border-success text-success bg-transparent",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Warning => "border border-warning text-warning bg-transparent",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Error => "border border-error text-error bg-transparent",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Info => "border border-info text-info bg-transparent",
            _ => "border border-bg-tertiary text-text-secondary bg-transparent"
        };
    }
    else if (Model.Style == DiscordBot.Bot.ViewModels.Components.BadgeStyle.Subtle)
    {
        // Subtle style: muted background with colored text (commonly used for status badges)
        variantClasses = Model.Variant switch
        {
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Orange => "bg-accent-orange/10 text-accent-orange",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Blue => "bg-accent-blue/10 text-accent-blue",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Success => "bg-success/10 text-success",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Warning => "bg-warning/10 text-warning",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Error => "bg-error/10 text-error",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Info => "bg-info/10 text-info",
            _ => "bg-bg-tertiary/50 text-text-secondary"
        };
    }
    else
    {
        variantClasses = Model.Variant switch
        {
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Orange => "bg-accent-orange text-white",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Blue => "bg-accent-blue text-white",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Success => "bg-success text-white",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Warning => "bg-warning text-bg-primary",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Error => "bg-error text-white",
            DiscordBot.Bot.ViewModels.Components.BadgeVariant.Info => "bg-info text-white",
            _ => "bg-bg-tertiary text-text-secondary"
        };
    }

    var gapClass = string.IsNullOrEmpty(Model.IconLeft) && !Model.IsRemovable ? "" : "gap-1.5";
}

<span class="inline-flex items-center @gapClass @sizeClasses font-semibold rounded-full @variantClasses">
    @if (!string.IsNullOrEmpty(Model.IconLeft))
    {
        <svg class="@iconSize" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="@Model.IconLeft" clip-rule="evenodd" />
        </svg>
    }
    @Model.Text
    @if (Model.IsRemovable)
    {
        <button
            type="button"
            class="hover:bg-white/20 rounded-full p-0.5 transition-colors"
            aria-label="Remove"
            @if (!string.IsNullOrEmpty(Model.OnRemove))
            {
                @:onclick="@Model.OnRemove"
            }
        >
            <svg class="@iconSize" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>
    }
</span>
