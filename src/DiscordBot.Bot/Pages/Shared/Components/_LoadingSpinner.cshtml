@model DiscordBot.Bot.ViewModels.Components.LoadingSpinnerViewModel
@{
    var (outerSize, innerSize, borderWidth) = Model.Size switch
    {
        DiscordBot.Bot.ViewModels.Components.SpinnerSize.Small => ("w-6 h-6", "w-3 h-3", "border-2"),
        DiscordBot.Bot.ViewModels.Components.SpinnerSize.Large => ("w-16 h-16", "w-8 h-8", "border-4"),
        _ => ("w-10 h-10", "w-5 h-5", "border-[3px]")
    };

    var colorClass = Model.Color switch
    {
        DiscordBot.Bot.ViewModels.Components.SpinnerColor.Orange => "border-t-accent-orange",
        DiscordBot.Bot.ViewModels.Components.SpinnerColor.White => "border-white/20 border-t-white",
        _ => "border-t-accent-blue"
    };

    var bgColorClass = Model.Color switch
    {
        DiscordBot.Bot.ViewModels.Components.SpinnerColor.Orange => "bg-accent-orange",
        DiscordBot.Bot.ViewModels.Components.SpinnerColor.White => "bg-white",
        _ => "bg-accent-blue"
    };

    var borderColorClass = Model.Color switch
    {
        DiscordBot.Bot.ViewModels.Components.SpinnerColor.White => "border-white",
        _ => $"border-{(Model.Color == DiscordBot.Bot.ViewModels.Components.SpinnerColor.Orange ? "accent-orange" : "accent-blue")}"
    };

    var dotSize = Model.Size switch
    {
        DiscordBot.Bot.ViewModels.Components.SpinnerSize.Small => "w-1.5 h-1.5",
        DiscordBot.Bot.ViewModels.Components.SpinnerSize.Large => "w-4 h-4",
        _ => "w-2.5 h-2.5"
    };
}

@if (Model.IsOverlay)
{
    <div class="absolute inset-0 flex flex-col items-center justify-center gap-3 bg-bg-primary/80 rounded-lg">
        @if (Model.Variant == DiscordBot.Bot.ViewModels.Components.SpinnerVariant.Dots)
        {
            <div class="flex items-center justify-center gap-1.5">
                <div class="@dotSize @bgColorClass rounded-full animate-bounce" style="animation-delay: -0.32s"></div>
                <div class="@dotSize @bgColorClass rounded-full animate-bounce" style="animation-delay: -0.16s"></div>
                <div class="@dotSize @bgColorClass rounded-full animate-bounce"></div>
            </div>
        }
        else if (Model.Variant == DiscordBot.Bot.ViewModels.Components.SpinnerVariant.Pulse)
        {
            <div class="relative flex items-center justify-center">
                <div class="absolute @outerSize @borderWidth @borderColorClass rounded-full animate-ping opacity-75"></div>
                <div class="@innerSize @bgColorClass rounded-full animate-pulse"></div>
            </div>
        }
        else
        {
            <div class="@outerSize @borderWidth border-white/20 @colorClass rounded-full animate-spin"></div>
        }
        @if (!string.IsNullOrEmpty(Model.Message))
        {
            <p class="text-sm text-text-primary">@Model.Message</p>
        }
        @if (!string.IsNullOrEmpty(Model.SubMessage))
        {
            <p class="text-xs text-text-tertiary">@Model.SubMessage</p>
        }
    </div>
}
else
{
    <div class="@(string.IsNullOrEmpty(Model.Message) ? "inline-flex" : "flex flex-col items-center justify-center gap-3")">
        @if (Model.Variant == DiscordBot.Bot.ViewModels.Components.SpinnerVariant.Dots)
        {
            <div class="flex items-center justify-center gap-1.5">
                <div class="@dotSize @bgColorClass rounded-full animate-bounce" style="animation-delay: -0.32s"></div>
                <div class="@dotSize @bgColorClass rounded-full animate-bounce" style="animation-delay: -0.16s"></div>
                <div class="@dotSize @bgColorClass rounded-full animate-bounce"></div>
            </div>
        }
        else if (Model.Variant == DiscordBot.Bot.ViewModels.Components.SpinnerVariant.Pulse)
        {
            <div class="relative flex items-center justify-center">
                <div class="absolute @outerSize @borderWidth @borderColorClass rounded-full animate-ping opacity-75"></div>
                <div class="@innerSize @bgColorClass rounded-full animate-pulse"></div>
            </div>
        }
        else
        {
            <div class="@outerSize @borderWidth border-white/20 @colorClass rounded-full animate-spin"></div>
        }
        @if (!string.IsNullOrEmpty(Model.Message))
        {
            <p class="text-sm text-text-primary">@Model.Message</p>
        }
        @if (!string.IsNullOrEmpty(Model.SubMessage))
        {
            <p class="text-xs text-text-tertiary">@Model.SubMessage</p>
        }
    </div>
}
